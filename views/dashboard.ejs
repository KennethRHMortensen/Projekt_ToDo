<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </head>
  <body>

    <% include('./partials/header.ejs') %>

    <h2><%= user %></h2>
    <p><%= lists[1] %></p>

    <div class="container min-vh-100 d-flex">
      <div class="row align-items-center justify-content-center w-100">
        
        <!-- Create new list -->
        <div class="w-50 shadow mb-5 bg-body rounded p-3">
          <h2>Create list</h2>   
          <form action="/todos" method="POST">
            <div class="mb-3">
              <label for="listtitle" class="form-label">List title</label>
              <input type="text" class="form-control" id="listtitle" name="title" required>
            </div>
            <div class="mb-3">
              <label for="listdescription" class="form-label">List description</label>
              <input type="text" class="form-control" id="listdescription" name="description">
            </div>
            <button type="submit" class="btn btn-primary">Add list</button>
          </form>
        </div>

        <!-- Lists -->
        <div class="accordion" id="accordionExample">          
          <% lists.forEach(function(list){ %>
            <div class="accordion-item w-50 p-3 shadow mb-5 bg-body rounded">
              <h2 class="accordion-header" id="heading<%= list._id %>">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= list._id %>" aria-expanded="false" aria-controls="collapse<%= list._id %>">
                  <%= list.title %>
                </button>
              </h2>
              <div id="collapse<%= list._id %>" class="accordion-collapse collapse" aria-labelledby="heading<%= list._id %>" data-bs-parent="#heading<%= list._id %>">
                <div class="accordion-body">
                  <p><%= list.description %></p>
                  <div>
                    <p>this is the tasks of the list</p>
                  </div>
                </div>
              </div>
            </div>
            <% }); %>
        </div>
      </div>
      </div>
    </div>



    <% include('./partials/footer.ejs') %>


    
  </body>
</html>
